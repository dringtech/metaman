<p>Dataset screen</p>

<button type="button" class="btn btn-default" ng-click="ctrl.save();">Save Data Set</button>

<ul>
<li ng-repeat="f in ctrl.fields">
    <label>{{f}}</label>
    <input type="text" ng-model="ctrl.dataset()[f]">
</li>
</ul>


<button type="button" class="btn btn-default" ng-click="ctrl.addUnstructuredRecord()">Add unstructured record</button>
<div class="panel-group" ng-model="ctrl.selectedUnstructuredRecord" role="tablist" aria-multiselectable="true" bs-collapse data-start-collapsed="true">
  <div class="panel panel-default" ng-repeat="f in ctrl.dataset().unstructuredRecords">
    <div class="panel-heading" role="tab">
      <h4 class="panel-title">
        <a bs-collapse-toggle>{{ f.name }}</a>
      </h4>
    </div>
    <div class="panel-collapse" role="tabpanel" bs-collapse-target>
      <input class="form-control" type="text" ng-model="f.name"></textarea>
      <!-- TODO Implement an unstructured record type -->
      <div class="panel-body" metaman-urecord="f"></div>
    </div>
  </div>
</div>

<button type="button" class="btn btn-default" ng-click="ctrl.addStructuredRecord()">Add structured record</button>
<div class="list-group">
  <div class="list-group-item" ng-repeat="f in ctrl.dataset().structuredRecords" metaman-record="f"></div>
</div>


<pre>
Dataset:
{{ctrl.dataset() | json}}

Fields:
{{ctrl.fields}}
</pre>

